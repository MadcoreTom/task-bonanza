import { Flex, Button, Popover, Box, Text, Layer, FixedZIndex } from "gestalt";
import * as React from "react"

// Filtered list from https://github.com/chalda-pnuzig/emojis.json/blob/master/src/list.json
const AVAILABLE_EMOJI: string[] = `ðŸ˜€,ðŸ˜ƒ,ðŸ˜„,ðŸ˜,ðŸ˜†,ðŸ˜…,ðŸ¤£,ðŸ˜‚,ðŸ™‚,ðŸ™ƒ,ðŸ˜‰,ðŸ˜Š,ðŸ˜‡,ðŸ¥°,ðŸ˜,ðŸ¤©,ðŸ˜˜,ðŸ˜—,â˜º,ðŸ˜š,ðŸ˜™,ðŸ˜‹,ðŸ˜›,ðŸ˜œ,ðŸ¤ª,ðŸ˜,ðŸ¤‘,ðŸ¤—,ðŸ¤­,ðŸ¤«,ðŸ¤”,ðŸ¤,ðŸ¤¨,ðŸ˜,ðŸ˜‘,ðŸ˜¶,ðŸ˜,ðŸ˜’,ðŸ™„,ðŸ˜¬,ðŸ¤¥,ðŸ˜Œ,ðŸ˜”,ðŸ˜ª,ðŸ¤¤,ðŸ˜´,ðŸ˜·,ðŸ¤’,ðŸ¤•,ðŸ¤¢,ðŸ¤®,ðŸ¤§,ðŸ¥µ,ðŸ¥¶,ðŸ¥´,ðŸ˜µ,ðŸ¤¯,ðŸ¤ ,ðŸ¥³,ðŸ˜Ž,ðŸ¤“,ðŸ§,ðŸ˜•,ðŸ˜Ÿ,ðŸ™,â˜¹,ðŸ˜®,ðŸ˜¯,ðŸ˜²,ðŸ˜³,ðŸ¥º,ðŸ˜¦,ðŸ˜§,ðŸ˜¨,ðŸ˜°,ðŸ˜¥,ðŸ˜¢,ðŸ˜­,ðŸ˜±,ðŸ˜–,ðŸ˜£,ðŸ˜ž,ðŸ˜“,ðŸ˜©,ðŸ˜«,ðŸ¥±,ðŸ˜¤,ðŸ˜¡,ðŸ˜ ,ðŸ¤¬,ðŸ˜ˆ,ðŸ‘¿,ðŸ’€,â˜ ,ðŸ’©,ðŸ¤¡,ðŸ‘¹,ðŸ‘º,ðŸ‘»,ðŸ‘½,ðŸ‘¾,ðŸ¤–,ðŸ˜º,ðŸ˜¸,ðŸ˜¹,ðŸ˜»,ðŸ˜¼,ðŸ˜½,ðŸ™€,ðŸ˜¿,ðŸ˜¾,ðŸ™ˆ,ðŸ™‰,ðŸ™Š,ðŸ’Œ,ðŸ’˜,ðŸ’,ðŸ’–,ðŸ’—,ðŸ’“,ðŸ’ž,ðŸ’•,ðŸ’Ÿ,â£,ðŸ’”,â¤,ðŸ§¡,ðŸ’›,ðŸ’š,ðŸ’™,ðŸ’œ,ðŸ¤Ž,ðŸ–¤,ðŸ¤,ðŸ’‹,ðŸ’¯,ðŸ’¢,ðŸ’¥,ðŸ’«,ðŸ’¦,ðŸ’¨,ðŸ•³,ðŸ’¬,ðŸ—¨,ðŸ—¯,ðŸ’­,ðŸ’¤,ðŸ‘‹,ðŸ¤š,ðŸ–,âœ‹,ðŸ––,ðŸ‘Œ,ðŸ¤,âœŒ,ðŸ¤ž,ðŸ¤Ÿ,ðŸ¤˜,ðŸ¤™,ðŸ‘ˆ,ðŸ‘‰,ðŸ‘†,ðŸ–•,ðŸ‘‡,â˜,ðŸ‘,ðŸ‘Ž,âœŠ,ðŸ‘Š,ðŸ¤›,ðŸ¤œ,ðŸ‘,ðŸ™Œ,ðŸ‘,ðŸ¤²,ðŸ¤,ðŸ™,âœ,ðŸ’…,ðŸ¤³,ðŸ’ª,ðŸ¦¾,ðŸ¦¿,ðŸ¦µ,ðŸ¦¶,ðŸ‘‚,ðŸ¦»,ðŸ‘ƒ,ðŸ§ ,ðŸ¦·,ðŸ¦´,ðŸ‘€,ðŸ‘,ðŸ‘…,ðŸ‘„,ðŸ‘¶,ðŸ§’,ðŸ‘¦,ðŸ‘§,ðŸ§‘,ðŸ‘±,ðŸ‘¨,ðŸ§”,ðŸ‘¨â€ðŸ¦°,ðŸ‘¨â€ðŸ¦±,ðŸ‘¨â€ðŸ¦³,ðŸ‘¨â€ðŸ¦²,ðŸ‘©,ðŸ‘©â€ðŸ¦°,ðŸ‘©â€ðŸ¦±,ðŸ‘©â€ðŸ¦³,ðŸ‘©â€ðŸ¦²,ðŸ§“,ðŸ‘´,ðŸ‘µ,ðŸ™,ðŸ™Ž,ðŸ™…,ðŸ™†,ðŸ’,ðŸ™‹,ðŸ§,ðŸ™‡,ðŸ¤¦,ðŸ¤·,ðŸ‘¨â€ðŸŽ“,ðŸ‘©â€ðŸŽ“,ðŸ‘¨â€ðŸ«,ðŸ‘©â€ðŸ«,ðŸ‘¨â€ðŸŒ¾,ðŸ‘©â€ðŸŒ¾,ðŸ‘¨â€ðŸ³,ðŸ‘©â€ðŸ³,ðŸ‘¨â€ðŸ”§,ðŸ‘©â€ðŸ”§,ðŸ‘¨â€ðŸ­,ðŸ‘©â€ðŸ­,ðŸ‘¨â€ðŸ’¼,ðŸ‘©â€ðŸ’¼,ðŸ‘¨â€ðŸ”¬,ðŸ‘©â€ðŸ”¬,ðŸ‘¨â€ðŸ’»,ðŸ‘©â€ðŸ’»,ðŸ‘¨â€ðŸŽ¤,ðŸ‘©â€ðŸŽ¤,ðŸ‘¨â€ðŸŽ¨,ðŸ‘©â€ðŸŽ¨,ðŸ‘¨â€ðŸš€,ðŸ‘©â€ðŸš€,ðŸ‘¨â€ðŸš’,ðŸ‘©â€ðŸš’,ðŸ‘®,ðŸ•µ,ðŸ’‚,ðŸ‘·,ðŸ¤´,ðŸ‘¸,ðŸ‘³,ðŸ‘²,ðŸ§•,ðŸ¤µ,ðŸ‘°,ðŸ¤°,ðŸ¤±,ðŸ‘¼,ðŸŽ…,ðŸ¤¶,ðŸ¦¸,ðŸ¦¹,ðŸ§™,ðŸ§š,ðŸ§›,ðŸ§œ,ðŸ§,ðŸ§ž,ðŸ§Ÿ,ðŸ’†,ðŸ’‡,ðŸš¶,ðŸ§,ðŸ§Ž,ðŸ‘¨â€ðŸ¦¼,ðŸ‘©â€ðŸ¦¼,ðŸ‘¨â€ðŸ¦½,ðŸ‘©â€ðŸ¦½,ðŸƒ,ðŸ’ƒ,ðŸ•º,ðŸ•´,ðŸ‘¯,ðŸ§–,ðŸ§—,ðŸ¤º,ðŸ‡,â›·,ðŸ‚,ðŸŒ,ðŸ„,ðŸš£,ðŸŠ,â›¹,ðŸ‹,ðŸš´,ðŸšµ,ðŸ¤¸,ðŸ¤¼,ðŸ¤½,ðŸ¤¾,ðŸ¤¹,ðŸ§˜,ðŸ›€,ðŸ›Œ,ðŸ‘­,ðŸ‘«,ðŸ‘¬,ðŸ’,ðŸ’‘,ðŸ‘ª,ðŸ‘¨â€ðŸ‘¦,ðŸ‘¨â€ðŸ‘§,ðŸ‘©â€ðŸ‘¦,ðŸ‘©â€ðŸ‘§,ðŸ—£,ðŸ‘¤,ðŸ‘¥,ðŸ‘£,ðŸ¦°,ðŸ¦±,ðŸ¦³,ðŸ¦²,ðŸµ,ðŸ’,ðŸ¦,ðŸ¦§,ðŸ¶,ðŸ•,ðŸ¦®,ðŸ•â€ðŸ¦º,ðŸ©,ðŸº,ðŸ¦Š,ðŸ¦,ðŸ±,ðŸˆ,ðŸ¦,ðŸ¯,ðŸ…,ðŸ†,ðŸ´,ðŸŽ,ðŸ¦„,ðŸ¦“,ðŸ¦Œ,ðŸ®,ðŸ‚,ðŸƒ,ðŸ„,ðŸ·,ðŸ–,ðŸ—,ðŸ½,ðŸ,ðŸ‘,ðŸ,ðŸª,ðŸ«,ðŸ¦™,ðŸ¦’,ðŸ˜,ðŸ¦,ðŸ¦›,ðŸ­,ðŸ,ðŸ€,ðŸ¹,ðŸ°,ðŸ‡,ðŸ¿,ðŸ¦”,ðŸ¦‡,ðŸ»,ðŸ¨,ðŸ¼,ðŸ¦¥,ðŸ¦¦,ðŸ¦¨,ðŸ¦˜,ðŸ¦¡,ðŸ¾,ðŸ¦ƒ,ðŸ”,ðŸ“,ðŸ£,ðŸ¤,ðŸ¥,ðŸ¦,ðŸ§,ðŸ•Š,ðŸ¦…,ðŸ¦†,ðŸ¦¢,ðŸ¦‰,ðŸ¦©,ðŸ¦š,ðŸ¦œ,ðŸ¸,ðŸŠ,ðŸ¢,ðŸ¦Ž,ðŸ,ðŸ²,ðŸ‰,ðŸ¦•,ðŸ¦–,ðŸ³,ðŸ‹,ðŸ¬,ðŸŸ,ðŸ ,ðŸ¡,ðŸ¦ˆ,ðŸ™,ðŸš,ðŸŒ,ðŸ¦‹,ðŸ›,ðŸœ,ðŸ,ðŸž,ðŸ¦—,ðŸ•·,ðŸ•¸,ðŸ¦‚,ðŸ¦Ÿ,ðŸ¦ ,ðŸ’,ðŸŒ¸,ðŸ’®,ðŸµ,ðŸŒ¹,ðŸ¥€,ðŸŒº,ðŸŒ»,ðŸŒ¼,ðŸŒ·,ðŸŒ±,ðŸŒ²,ðŸŒ³,ðŸŒ´,ðŸŒµ,ðŸŒ¾,ðŸŒ¿,â˜˜,ðŸ€,ðŸ,ðŸ‚,ðŸƒ,ðŸ„,ðŸ‡,ðŸˆ,ðŸ‰,ðŸŠ,ðŸ‹,ðŸŒ,ðŸ,ðŸ¥­,ðŸŽ,ðŸ,ðŸ,ðŸ‘,ðŸ’,ðŸ“,ðŸ¥,ðŸ…,ðŸ¥¥,ðŸ¥‘,ðŸ†,ðŸ¥”,ðŸ¥•,ðŸŒ½,ðŸŒ¶,ðŸ¥’,ðŸ¥¬,ðŸ¥¦,ðŸ§„,ðŸ§…,ðŸ¥œ,ðŸŒ°,ðŸž,ðŸ¥,ðŸ¥–,ðŸ¥¨,ðŸ¥¯,ðŸ¥ž,ðŸ§‡,ðŸ§€,ðŸ–,ðŸ—,ðŸ¥©,ðŸ¥“,ðŸ”,ðŸŸ,ðŸ•,ðŸŒ­,ðŸ¥ª,ðŸŒ®,ðŸŒ¯,ðŸ¥™,ðŸ§†,ðŸ¥š,ðŸ³,ðŸ¥˜,ðŸ²,ðŸ¥£,ðŸ¥—,ðŸ¿,ðŸ§ˆ,ðŸ§‚,ðŸ¥«,ðŸ±,ðŸ˜,ðŸ™,ðŸš,ðŸ›,ðŸœ,ðŸ,ðŸ ,ðŸ¢,ðŸ£,ðŸ¤,ðŸ¥,ðŸ¥®,ðŸ¡,ðŸ¥Ÿ,ðŸ¥ ,ðŸ¥¡,ðŸ¦€,ðŸ¦ž,ðŸ¦,ðŸ¦‘,ðŸ¦ª,ðŸ¦,ðŸ§,ðŸ¨,ðŸ©,ðŸª,ðŸŽ‚,ðŸ°,ðŸ§,ðŸ¥§,ðŸ«,ðŸ¬,ðŸ­,ðŸ®,ðŸ¯,ðŸ¼,ðŸ¥›,â˜•,ðŸµ,ðŸ¶,ðŸ¾,ðŸ·,ðŸ¸,ðŸ¹,ðŸº,ðŸ»,ðŸ¥‚,ðŸ¥ƒ,ðŸ¥¤,ðŸ§ƒ,ðŸ§‰,ðŸ§Š,ðŸ¥¢,ðŸ½,ðŸ´,ðŸ¥„,ðŸ”ª,ðŸº,ðŸŒ,ðŸŒŽ,ðŸŒ,ðŸŒ,ðŸ—º,ðŸ—¾,ðŸ§­,ðŸ”,â›°,ðŸŒ‹,ðŸ—»,ðŸ•,ðŸ–,ðŸœ,ðŸ,ðŸž,ðŸŸ,ðŸ›,ðŸ—,ðŸ§±,ðŸ˜,ðŸš,ðŸ ,ðŸ¡,ðŸ¢,ðŸ£,ðŸ¤,ðŸ¥,ðŸ¦,ðŸ¨,ðŸ©,ðŸª,ðŸ«,ðŸ¬,ðŸ­,ðŸ¯,ðŸ°,ðŸ’’,ðŸ—¼,ðŸ—½,â›ª,ðŸ•Œ,ðŸ›•,ðŸ•,â›©,ðŸ•‹,â›²,â›º,ðŸŒ,ðŸŒƒ,ðŸ™,ðŸŒ„,ðŸŒ…,ðŸŒ†,ðŸŒ‡,ðŸŒ‰,â™¨,ðŸŽ ,ðŸŽ¡,ðŸŽ¢,ðŸ’ˆ,ðŸŽª,ðŸš‚,ðŸšƒ,ðŸš„,ðŸš…,ðŸš†,ðŸš‡,ðŸšˆ,ðŸš‰,ðŸšŠ,ðŸš,ðŸšž,ðŸš‹,ðŸšŒ,ðŸš,ðŸšŽ,ðŸš,ðŸš‘,ðŸš’,ðŸš“,ðŸš”,ðŸš•,ðŸš–,ðŸš—,ðŸš˜,ðŸš™,ðŸšš,ðŸš›,ðŸšœ,ðŸŽ,ðŸ,ðŸ›µ,ðŸ¦½,ðŸ¦¼,ðŸ›º,ðŸš²,ðŸ›´,ðŸ›¹,ðŸš,ðŸ›£,ðŸ›¤,ðŸ›¢,â›½,ðŸš¨,ðŸš¥,ðŸš¦,ðŸ›‘,ðŸš§,âš“,â›µ,ðŸ›¶,ðŸš¤,ðŸ›³,â›´,ðŸ›¥,ðŸš¢,âœˆ,ðŸ›©,ðŸ›«,ðŸ›¬,ðŸª‚,ðŸ’º,ðŸš,ðŸšŸ,ðŸš ,ðŸš¡,ðŸ›°,ðŸš€,ðŸ›¸,ðŸ›Ž,ðŸ§³,âŒ›,â³,âŒš,â°,â±,â²,ðŸ•°,ðŸ•›,ðŸ•§,ðŸ•,ðŸ•œ,ðŸ•‘,ðŸ•,ðŸ•’,ðŸ•ž,ðŸ•“,ðŸ•Ÿ,ðŸ•”,ðŸ• ,ðŸ••,ðŸ•¡,ðŸ•–,ðŸ•¢,ðŸ•—,ðŸ•£,ðŸ•˜,ðŸ•¤,ðŸ•™,ðŸ•¥,ðŸ•š,ðŸ•¦,ðŸŒ‘,ðŸŒ’,ðŸŒ“,ðŸŒ”,ðŸŒ•,ðŸŒ–,ðŸŒ—,ðŸŒ˜,ðŸŒ™,ðŸŒš,ðŸŒ›,ðŸŒœ,ðŸŒ¡,â˜€,ðŸŒ,ðŸŒž,ðŸª,â­,ðŸŒŸ,ðŸŒ ,ðŸŒŒ,â˜,â›…,â›ˆ,ðŸŒ¤,ðŸŒ¥,ðŸŒ¦,ðŸŒ§,ðŸŒ¨,ðŸŒ©,ðŸŒª,ðŸŒ«,ðŸŒ¬,ðŸŒ€,ðŸŒˆ,ðŸŒ‚,â˜‚,â˜”,â›±,âš¡,â„,â˜ƒ,â›„,â˜„,ðŸ”¥,ðŸ’§,ðŸŒŠ,ðŸŽƒ,ðŸŽ„,ðŸŽ†,ðŸŽ‡,ðŸ§¨,âœ¨,ðŸŽˆ,ðŸŽ‰,ðŸŽŠ,ðŸŽ‹,ðŸŽ,ðŸŽŽ,ðŸŽ,ðŸŽ,ðŸŽ‘,ðŸ§§,ðŸŽ€,ðŸŽ,ðŸŽ—,ðŸŽŸ,ðŸŽ«,ðŸŽ–,ðŸ†,ðŸ…,ðŸ¥‡,ðŸ¥ˆ,ðŸ¥‰,âš½,âš¾,ðŸ¥Ž,ðŸ€,ðŸ,ðŸˆ,ðŸ‰,ðŸŽ¾,ðŸ¥,ðŸŽ³,ðŸ,ðŸ‘,ðŸ’,ðŸ¥,ðŸ“,ðŸ¸,ðŸ¥Š,ðŸ¥‹,ðŸ¥…,â›³,â›¸,ðŸŽ£,ðŸ¤¿,ðŸŽ½,ðŸŽ¿,ðŸ›·,ðŸ¥Œ,ðŸŽ¯,ðŸª€,ðŸª,ðŸ”«,ðŸŽ±,ðŸ”®,ðŸŽ®,ðŸ•¹,ðŸŽ°,ðŸŽ²,ðŸ§©,ðŸ§¸,â™ ,â™¥,â™¦,â™£,â™Ÿ,ðŸƒ,ðŸ€„,ðŸŽ´,ðŸŽ­,ðŸ–¼,ðŸŽ¨,ðŸ§µ,ðŸ§¶,ðŸ‘“,ðŸ•¶,ðŸ¥½,ðŸ¥¼,ðŸ¦º,ðŸ‘”,ðŸ‘•,ðŸ‘–,ðŸ§£,ðŸ§¤,ðŸ§¥,ðŸ§¦,ðŸ‘—,ðŸ‘˜,ðŸ¥»,ðŸ©±,ðŸ©²,ðŸ©³,ðŸ‘™,ðŸ‘š,ðŸ‘›,ðŸ‘œ,ðŸ‘,ðŸ›,ðŸŽ’,ðŸ‘ž,ðŸ‘Ÿ,ðŸ¥¾,ðŸ¥¿,ðŸ‘ ,ðŸ‘¡,ðŸ©°,ðŸ‘¢,ðŸ‘‘,ðŸ‘’,ðŸŽ©,ðŸŽ“,ðŸ§¢,â›‘,ðŸ“¿,ðŸ’„,ðŸ’,ðŸ’Ž,ðŸ”‡,ðŸ”ˆ,ðŸ”‰,ðŸ”Š,ðŸ“¢,ðŸ“£,ðŸ“¯,ðŸ””,ðŸ”•,ðŸŽ¼,ðŸŽµ,ðŸŽ¶,ðŸŽ™,ðŸŽš,ðŸŽ›,ðŸŽ¤,ðŸŽ§,ðŸ“»,ðŸŽ·,ðŸŽ¸,ðŸŽ¹,ðŸŽº,ðŸŽ»,ðŸª•,ðŸ¥,ðŸ“±,ðŸ“²,â˜Ž,ðŸ“ž,ðŸ“Ÿ,ðŸ“ ,ðŸ”‹,ðŸ”Œ,ðŸ’»,ðŸ–¥,ðŸ–¨,âŒ¨,ðŸ–±,ðŸ–²,ðŸ’½,ðŸ’¾,ðŸ’¿,ðŸ“€,ðŸ§®,ðŸŽ¥,ðŸŽž,ðŸ“½,ðŸŽ¬,ðŸ“º,ðŸ“·,ðŸ“¸,ðŸ“¹,ðŸ“¼,ðŸ”,ðŸ”Ž,ðŸ•¯,ðŸ’¡,ðŸ”¦,ðŸ®,ðŸª”,ðŸ“”,ðŸ“•,ðŸ“–,ðŸ“—,ðŸ“˜,ðŸ“™,ðŸ“š,ðŸ““,ðŸ“’,ðŸ“ƒ,ðŸ“œ,ðŸ“„,ðŸ“°,ðŸ—ž,ðŸ“‘,ðŸ”–,ðŸ·,ðŸ’°,ðŸ’´,ðŸ’µ,ðŸ’¶,ðŸ’·,ðŸ’¸,ðŸ’³,ðŸ§¾,ðŸ’¹,âœ‰,ðŸ“§,ðŸ“¨,ðŸ“©,ðŸ“¤,ðŸ“¥,ðŸ“¦,ðŸ“«,ðŸ“ª,ðŸ“¬,ðŸ“­,ðŸ“®,ðŸ—³,âœ,âœ’,ðŸ–‹,ðŸ–Š,ðŸ–Œ,ðŸ–,ðŸ“,ðŸ’¼,ðŸ“,ðŸ“‚,ðŸ—‚,ðŸ“…,ðŸ“†,ðŸ—’,ðŸ—“,ðŸ“‡,ðŸ“ˆ,ðŸ“‰,ðŸ“Š,ðŸ“‹,ðŸ“Œ,ðŸ“,ðŸ“Ž,ðŸ–‡,ðŸ“,ðŸ“,âœ‚,ðŸ—ƒ,ðŸ—„,ðŸ—‘,ðŸ”’,ðŸ”“,ðŸ”,ðŸ”,ðŸ”‘,ðŸ—,ðŸ”¨,ðŸª“,â›,âš’,ðŸ› ,ðŸ—¡,âš”,ðŸ’£,ðŸ¹,ðŸ›¡,ðŸ”§,ðŸ”©,âš™,ðŸ—œ,âš–,ðŸ¦¯,ðŸ”—,â›“,ðŸ§°,ðŸ§²,âš—,ðŸ§ª,ðŸ§«,ðŸ§¬,ðŸ”¬,ðŸ”­,ðŸ“¡,ðŸ’‰,ðŸ©¸,ðŸ’Š,ðŸ©¹,ðŸ©º,ðŸšª,ðŸ›,ðŸ›‹,ðŸª‘,ðŸš½,ðŸš¿,ðŸ›,ðŸª’,ðŸ§´,ðŸ§·,ðŸ§¹,ðŸ§º,ðŸ§»,ðŸ§¼,ðŸ§½,ðŸ§¯,ðŸ›’,ðŸš¬,âš°,âš±,ðŸ§¿,ðŸ—¿,ðŸ§,ðŸš®,ðŸš°,â™¿,ðŸš¹,ðŸšº,ðŸš»,ðŸš¼,ðŸš¾,ðŸ›‚,ðŸ›ƒ,ðŸ›„,ðŸ›…,âš ,ðŸš¸,â›”,ðŸš«,ðŸš³,ðŸš­,ðŸš¯,ðŸš±,ðŸš·,ðŸ“µ,ðŸ”ž,â˜¢,â˜£,â¬†,â†—,âž¡,â†˜,â¬‡,â†™,â¬…,â†–,â†•,â†”,â†©,â†ª,â¤´,â¤µ,ðŸ”ƒ,ðŸ”„,ðŸ”™,ðŸ”š,ðŸ”›,ðŸ”œ,ðŸ”,ðŸ›,âš›,ðŸ•‰,âœ¡,â˜¸,â˜¯,âœ,â˜¦,â˜ª,â˜®,ðŸ•Ž,ðŸ”¯,â™ˆ,â™‰,â™Š,â™‹,â™Œ,â™,â™Ž,â™,â™,â™‘,â™’,â™“,â›Ž,ðŸ”€,ðŸ”,ðŸ”‚,â–¶,â©,â­,â¯,â—€,âª,â®,ðŸ”¼,â«,ðŸ”½,â¬,â¸,â¹,âº,â,ðŸŽ¦,ðŸ”…,ðŸ”†,ðŸ“¶,ðŸ“³,ðŸ“´,âœ–,âž•,âž–,âž—,â™¾,â€¼,â‰,â“,â”,â•,â—,ã€°,ðŸ’±,ðŸ’²,â™»,âšœ,ðŸ”±,ðŸ“›,ðŸ”°,â­•,âœ…,â˜‘,âœ”,âŒ,âŽ,âž°,âž¿,ã€½,âœ³,âœ´,â‡,Â©,Â®,â„¢,#ï¸âƒ£,*ï¸âƒ£,0ï¸âƒ£,1ï¸âƒ£,2ï¸âƒ£,3ï¸âƒ£,4ï¸âƒ£,5ï¸âƒ£,6ï¸âƒ£,7ï¸âƒ£,8ï¸âƒ£,9ï¸âƒ£,ðŸ”Ÿ,ðŸ” ,ðŸ”¡,ðŸ”¢,ðŸ”£,ðŸ”¤,ðŸ…°,ðŸ†Ž,ðŸ…±,ðŸ†‘,ðŸ†’,ðŸ†“,â„¹,ðŸ†”,â“‚,ðŸ†•,ðŸ†–,ðŸ…¾,ðŸ†—,ðŸ…¿,ðŸ†˜,ðŸ†™,ðŸ†š,ðŸˆ,ðŸˆ‚,ðŸˆ·,ðŸˆ¶,ðŸˆ¯,ðŸ‰,ðŸˆ¹,ðŸˆš,ðŸˆ²,ðŸ‰‘,ðŸˆ¸,ðŸˆ´,ðŸˆ³,ãŠ—,ãŠ™,ðŸˆº,ðŸˆµ,ðŸ”´,ðŸŸ ,ðŸŸ¡,ðŸŸ¢,ðŸ”µ,ðŸŸ£,ðŸŸ¤,âš«,âšª,ðŸŸ¥,ðŸŸ§,ðŸŸ¨,ðŸŸ©,ðŸŸ¦,ðŸŸª,ðŸŸ«,â¬›,â¬œ,â—¼,â—»,â—¾,â—½,â–ª,â–«,ðŸ”¶,ðŸ”·,ðŸ”¸,ðŸ”¹,ðŸ”º,ðŸ”»,ðŸ’ ,ðŸ”˜,ðŸ”³,ðŸ”²`.split(",");


export function EmojiPicker({ value, onClick }: { value: string, onClick: (val: string) => void }) {

    const [open, setOpen] = React.useState(false);
    const anchorRef = React.useRef(null);
    console.log("OPEN", open)

    React.useEffect(() => {
        setOpen(false);
    }, []);

    return <React.Fragment>
        <Button
            accessibilityHaspopup
            accessibilityExpanded={open}
            // accessibilityControls="main-example"
            color="white"
            iconEnd="arrow-down"
            onClick={() => setOpen(!open)}
            size="lg"
            selected={open}
            text={value}
            ref={anchorRef}
        />
        {open && (
            <Layer zIndex={new FixedZIndex(12)} >
                <Popover
                    accessibilityLabel="Save to board"
                    anchor={anchorRef.current}
                    id="main-example"
                    idealDirection="forceDown"
                    onDismiss={() => setOpen(false)}
                    size="xl"
                    showDismissButton
                    positionRelativeToAnchor={false}
                >
                    <Box width={300}>
                        <Text align="center" weight="bold">Emoji Picker</Text>
                        <EmojiGrid onSelect={val => {onClick(val); setOpen(false)}} />
                    </Box>
                </Popover></Layer>
        )}</React.Fragment>
}

const ROWS = 5;
const COLS = 6;
const PAGE_SIZE = ROWS * COLS;

function EmojiGrid({ onSelect }: { onSelect: (val: string) => void }) {
    const [offset, setOffset] = React.useState(0);

    const emojiList = AVAILABLE_EMOJI.slice(offset, offset + PAGE_SIZE);
    const emojiGrid: string[][] = [];
    for (let x = 0; x < ROWS; x++) {
        emojiGrid.push(emojiList.slice(COLS * x, COLS * (x + 1)))
    }

    return <React.Fragment>
        <Flex justifyContent="around" width="100%">
            <Button color="gray" iconEnd="directional-arrow-left" text="" onClick={()=>setOffset(offset - PAGE_SIZE)} disabled={offset==0} size="md"/>
            <Box width="4em" marginTop={2}><Text align="center">{offset/PAGE_SIZE}</Text></Box>
            <Button color="gray" iconEnd="directional-arrow-right" text="" onClick={()=>setOffset(offset + PAGE_SIZE)} disabled={offset + PAGE_SIZE>= AVAILABLE_EMOJI.length }  size="md"/>
        </Flex>
        <table width="100%" style={{padding: "5px"}}>
            {
                emojiGrid.map((row, r) => <tr key={r}>
                    {row.map((cell, c) => <td key={c} onClick={evt => onSelect(cell)} className="emoji-cell"><Text size="400" align="center">{cell}</Text></td>)}
                </tr>)
            }
        </table>
    </React.Fragment>
}